---
layout:     post
title:      "2013_12_CSP_4"
subtitle:   "有趣的数"
date:       2020-12-25 18:00:00
author:     "clever"
header-img: "img/post-bg-2020_1.jpg"
catalog: true
tags:
    - CSP
---



### CSP考试2013.12第四题

#### 有趣的数

![2013_12_4.PNG](/CSP/2013_12_4.PNG)

#### 解答代码如下：

<div class="highlight" style="background: #111111"><pre style="line-height: 125%"><span style="color: #ff0007; font-weight: bold; font-style: italic; background-color: #0f140f">#include &lt;iostream&gt;</span>
<span style="color: #ff0007; font-weight: bold; font-style: italic; background-color: #0f140f">#include &lt;algorithm&gt;</span>
<span style="color: #fb660a; font-weight: bold">using</span> <span style="color: #fb660a; font-weight: bold">namespace</span> <span style="color: #ffffff">std;</span>

<span style="color: #cdcaa9; font-weight: bold">long</span> <span style="color: #cdcaa9; font-weight: bold">long</span> <span style="color: #ffffff">arrays[</span><span style="color: #0086f7; font-weight: bold">1001</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">2</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">2</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">2</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">=</span> <span style="color: #ffffff">{</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">};</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//存储整数位数与各数字出现与否的布尔值</span>

<span style="color: #cdcaa9; font-weight: bold">void</span> <span style="color: #ff0086; font-weight: bold">funny</span><span style="color: #ffffff">(</span><span style="color: #cdcaa9; font-weight: bold">int</span> <span style="color: #ffffff">n,</span> <span style="color: #cdcaa9; font-weight: bold">bool</span> <span style="color: #ffffff">flag_0,</span> <span style="color: #cdcaa9; font-weight: bold">bool</span> <span style="color: #ffffff">flag_1,</span> <span style="color: #cdcaa9; font-weight: bold">bool</span> <span style="color: #ffffff">flag_3)</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//n是整数位数,flag表示对应数字不出现</span>
<span style="color: #ffffff">{</span>
    <span style="color: #cdcaa9; font-weight: bold">int</span> <span style="color: #ffffff">res</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">3</span> <span style="color: #ffffff">-</span> <span style="color: #ffffff">(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0</span> <span style="color: #ffffff">-</span> <span style="color: #ffffff">(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1</span> <span style="color: #ffffff">-</span> <span style="color: #ffffff">(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//需要出现的数字个数</span>
    <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">(flag_0</span> <span style="color: #ffffff">&amp;&amp;</span> <span style="color: #ffffff">flag_1</span> <span style="color: #ffffff">&amp;&amp;</span> <span style="color: #ffffff">flag_3)</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//0,1,3 均不出现只能是2，只有一种情况</span>
    <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((flag_0)&amp;&amp;(!flag_1))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//如果0不需要出现而1需要则不存在</span>
    <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">(n</span> <span style="color: #ffffff">&lt;</span> <span style="color: #ffffff">res)</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//若不能使所有数字出现则不存在</span>
    <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">(n</span> <span style="color: #ffffff">==</span> <span style="color: #ffffff">res)</span> <span style="color: #008800; font-style: italic; background-color: #0f140f">//若刚好可使所有位数出现</span>
    <span style="color: #ffffff">{</span>
            <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">(flag_1)</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #ffffff">n;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//如果1不需要出现则只有n种情况</span>
            <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">(flag_3)</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//如果3不需要出现只有1种情况</span>
            <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">3</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//所有flag都需要出现过则有3种情况</span>
    <span style="color: #ffffff">}</span>
    <span style="color: #fb660a; font-weight: bold">else</span> <span style="color: #008800; font-style: italic; background-color: #0f140f">//若足够可使所有位数出现</span>
    <span style="color: #ffffff">{</span>
        <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((flag_0)&amp;&amp;(flag_1)&amp;&amp;(!flag_3))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">];</span> <span style="color: #008800; font-style: italic; background-color: #0f140f">//只需要出现2与3</span>
        <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((!flag_0)&amp;&amp;(flag_1)&amp;&amp;(flag_3))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #ffffff">*</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">];</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//只需要出现2与0</span>
        <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((!flag_0)&amp;&amp;(flag_1)&amp;&amp;(!flag_3))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #ffffff">*</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">];</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//需要出现2、0、3</span>
        <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((!flag_0)&amp;&amp;(!flag_1)&amp;&amp;(flag_3))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #ffffff">*</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">];</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//需要出现2、0、1                       //</span>
        <span style="color: #fb660a; font-weight: bold">if</span><span style="color: #ffffff">((!flag_0)&amp;&amp;(!flag_1)&amp;&amp;(!flag_3))</span> <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">=</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #ffffff">*</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">+</span> <span style="color: #ffffff">arrays[n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">];</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//需要出现2、0、1、3</span>
    <span style="color: #ffffff">}</span>
    <span style="color: #ffffff">arrays[n][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_0][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_1][(</span><span style="color: #cdcaa9; font-weight: bold">int</span><span style="color: #ffffff">)flag_3]</span> <span style="color: #ffffff">%=</span> <span style="color: #0086f7; font-weight: bold">1000000007</span><span style="color: #ffffff">;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//余数处理</span>
<span style="color: #ffffff">}</span>

<span style="color: #cdcaa9; font-weight: bold">int</span> <span style="color: #ff0086; font-weight: bold">main</span><span style="color: #ffffff">()</span>
<span style="color: #ffffff">{</span>
    <span style="color: #cdcaa9; font-weight: bold">int</span> <span style="color: #ffffff">n;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//输入的正整数</span>
    <span style="color: #ffffff">cin</span> <span style="color: #ffffff">&gt;&gt;</span> <span style="color: #ffffff">n;</span>
    <span style="color: #ffffff">n--;</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//首位必为2，故不考虑首位</span>
    <span style="color: #fb660a; font-weight: bold">for</span><span style="color: #ffffff">(</span><span style="color: #cdcaa9; font-weight: bold">int</span> <span style="color: #ffffff">i=</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">;i&lt;=n-</span><span style="color: #0086f7; font-weight: bold">1</span><span style="color: #ffffff">;i++)</span>
    <span style="color: #ffffff">{</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">true);</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">false);</span>
        <span style="color: #008800; font-style: italic; background-color: #0f140f">//funny(i, true, false, true);该情况不成立</span>
        <span style="color: #008800; font-style: italic; background-color: #0f140f">//funny(i, true, false, false);该情况不成立</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">true);</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">true,</span> <span style="color: #ffffff">false);</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">true);</span>
        <span style="color: #ffffff">funny(i,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">false);</span>
    <span style="color: #ffffff">}</span>
    <span style="color: #ffffff">funny(n,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">false,</span> <span style="color: #ffffff">false);</span><span style="color: #008800; font-style: italic; background-color: #0f140f">//更新n位数的情况</span>
    <span style="color: #ffffff">cout</span> <span style="color: #ffffff">&lt;&lt;</span> <span style="color: #ffffff">arrays[n][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">][</span><span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">]</span> <span style="color: #ffffff">&lt;&lt;</span> <span style="color: #ffffff">endl;</span>
    <span style="color: #fb660a; font-weight: bold">return</span> <span style="color: #0086f7; font-weight: bold">0</span><span style="color: #ffffff">;</span>
<span style="color: #ffffff">}</span>
</pre></div>
